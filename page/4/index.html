
<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8" />
        <title>Tongrens</title>
        <meta name="author" content="Tongrens" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/73508047.png" />
        <script src="https://cdn.staticfile.org/vue/3.2.47/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.3.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<canvas id="fireworks" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"></canvas>
<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
<script src="/js/fireworks.min.js"></script>
<canvas id="background" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"></canvas>
<script src="/js/background.min.js"></script>
<div id="cursor"></div>
<link rel="stylesheet" href="/css/cursor.min.css">
<script src="/js/cursor.min.js"></script>
<script src="/js/fireworks.js"></script>
<script src="/js/background.js"></script>
<canvas id="fireworks" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:2147483647"></canvas>
<canvas id="background" style="position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-1"></canvas>


<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.7.0/highlight.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.7.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>





<script src="/js/lib/home.js"></script>

<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 5.4.2"></head>
    <body>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <img src="/images/loading.gif" />
                    </div>
                </div>
            </transition>
            <nav id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <div id="desktop-menu">
        <a class="title" href="/">
            <span>TONGRENS</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;主页</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;关于</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;归档</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;分类</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;标签</span>
        </a>
        
    </div>
    <div id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;TONGRENS</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">主页</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">关于</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">归档</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">分类</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">标签</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </div>
</nav>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <transition name="into">
                <div id="main" v-show="!loading">
                    <div id="home-head">
    <div id="home-background" ref="homeBackground" data-images="/images/blog_head.jpg"></div>
    <div id="home-info" @click="homeClick">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>Tongrens</h1>
                <h3>Welcome to My Blog!</h3>
                <h5></h5>
            </div>
        </span>
    </div>
</div>
<div id="home-posts-wrap"  ref="homePostsWrap">
    <div id="home-posts">
        

<div class="post">
    <a href="/2022/10/10/BGP/">
        <h2 class="post-title">BGP</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            <a href="/categories/%E7%AC%94%E8%AE%B0/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                笔记
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2022/10/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="BGP"><a href="#BGP" class="headerlink" title="BGP"></a>BGP</h1><blockquote>
<h5 id="BGP分类"><a href="#BGP分类" class="headerlink" title="BGP分类"></a>BGP分类</h5></blockquote>
<p>BGP是EGP（外部网关协议）的一种，而IGP包含了RIP、OSPF、ISIS，是内部网关协议，BGP协议本身不产生、发现路由；<br>BGP分为IBGP和EBGP<br>EBGP：当BGP设备收到EBGP发来的路由时，会将带有自己AS号的路由丢弃<br>IBGP：为了防止环路，从IBGP学习到的路由不会转发给其他IBGP设备，需要建立全连接才能互通，有路由反射器和联盟两种解决方法<br>BGP Router-id：在发送的Open报文中携带，通常是IP地址<br><strong>AS划分：</strong><br>二字节AS：1-65535<br>四字节AS：1-4294967295<br>公网AS：1-64511<br>私网AS：64512-65534</p>
<h3 id="2种角色"><a href="#2种角色" class="headerlink" title="2种角色"></a>2种角色</h3><blockquote>
<p>Speaker：发送或者接受BGP报文的任何设备都是Speaker<br>Peer：相互交换报文的Speaker之间互为对等体，若干相关的对等体可以组成对等体组</p>
</blockquote>
            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Router/" style="color: #ffa2c4">Router</a>
        </span>
        
    </div>
    <a href="/2022/10/10/BGP/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/10/10/OSPF/">
        <h2 class="post-title">OSPF</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            <a href="/categories/%E7%AC%94%E8%AE%B0/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                笔记
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2022/10/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="OSPF"><a href="#OSPF" class="headerlink" title="OSPF"></a>OSPF</h1><h2 id="OSPF基础"><a href="#OSPF基础" class="headerlink" title="OSPF基础"></a>OSPF基础</h2><p>同一AS中每个路由器ID必须唯一，但同一路由器的不同进程中的路由器ID可以相同<br>AS（自治系统）：进程号<br>Area（区域）：区域号<br>每个参与计算的OSPF接口都有优先级，范围0-255，默认值为1，0不参与选举DR/BDR，<strong>越高越优先</strong></p>
<blockquote>
<p>组播地址：<br>DRother向DR，BDR发送DD，LSA request或者LSA UPdate时目标地址是AllDRouter（224.0.0.6）<br>DR，BDR向DRother发送DD，LSA Request或者LSA Update时目标地址是AllSPFRouter（224.0.0.5）</p>
</blockquote>
<h2 id="OSPF-LSA类型"><a href="#OSPF-LSA类型" class="headerlink" title="OSPF LSA类型"></a>OSPF LSA类型</h2><blockquote>
<p>Type1</p>
</blockquote>
<ul>
<li>路由器LSA（Router LSA）<br>每个路由器都会产生路由器LSA<br>表明了链路状态、开销等参数</li>
</ul>
<blockquote>
<p>Type2</p>
</blockquote>
<ul>
<li>网络LSA（Network LSA）<br>由DR或BDR产生<br>表明了DR和BDR所在网段的链路状态（DR和BDR只在广播中存在）</li>
</ul>
            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Router/" style="color: #ff7d73">Router</a>
        </span>
        
    </div>
    <a href="/2022/10/10/OSPF/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/10/10/RIP/">
        <h2 class="post-title">RIP</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            <a href="/categories/%E7%AC%94%E8%AE%B0/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                笔记
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2022/10/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="RIP"><a href="#RIP" class="headerlink" title="RIP"></a>RIP</h1><h2 id="RIP特点"><a href="#RIP特点" class="headerlink" title="RIP特点"></a>RIP特点</h2><p>引入跳数（Hop Count）的概念，每经过一个三层设备跳数就增加1，到16则丢弃；当收到多条相同路由时，仅加收度量值更小或相当的更新</p>
<h4 id="RIPv1特点"><a href="#RIPv1特点" class="headerlink" title="RIPv1特点"></a>RIPv1特点</h4><blockquote>
<p>有类路由协议（不携带掩码信息）<br>利用广播更新<br>基于UDP协议，使用520端口<br>不支持路由聚合，也不支持不连续子网，也不支持验证</p>
</blockquote>
<h4 id="RIPv2特点"><a href="#RIPv2特点" class="headerlink" title="RIPv2特点"></a>RIPv2特点</h4><blockquote>
<p>无类路由协议（携带掩码信息）<br>利用组播更新，组播地址为224.0.0.9<br>基于UDP协议，使用520端口<br>支持路由聚合，支持验证，支持指定下一跳，支持标记tag（给数据包打上tag以防止重发布导致路由环路），</p>
</blockquote>
<h2 id="RIP定时器"><a href="#RIP定时器" class="headerlink" title="RIP定时器"></a>RIP定时器</h2><blockquote>
<ol>
<li>更新定时器：定时触发更新报文的发送，默认30s</li>
</ol>
</blockquote>
<ol start="2">
<li>抑制定时器：如果收到对端度量值为16的路由，则此路由进入抑制状态，即便再次收到度量值小于16的更新也不接受，默认是180s</li>
<li>老化定时器：如果在老化时间内（默认180s）没有收到邻居发来的更新报文，则认为此路由不可达并将度量值改为16（16为不可达）</li>
<li>垃圾收集定时器：如果在垃圾收集时间内（默认为更新定时器的4倍，即120s），不可达链路没有被触发更新则将此路由从路由表中彻底删除。</li>
</ol>
            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Router/" style="color: #00a596">Router</a>
        </span>
        
    </div>
    <a href="/2022/10/10/RIP/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/10/10/%E6%89%A9%E5%B1%95VLAN%E7%89%B9%E6%80%A7%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%AE%A1%E7%90%86/">
        <h2 class="post-title">扩展VLAN特性配置与管理</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            <a href="/categories/%E7%AC%94%E8%AE%B0/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                笔记
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2022/10/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="扩展VLAN特性配置与管理"><a href="#扩展VLAN特性配置与管理" class="headerlink" title="扩展VLAN特性配置与管理"></a>扩展VLAN特性配置与管理</h1><h2 id="VLAN聚合"><a href="#VLAN聚合" class="headerlink" title="VLAN聚合"></a>VLAN聚合</h2><p>VLAN聚合是把多个不配置三层VLANIF接口聚合成一个超级VLAN（Super-VLAN），这些VLANIF的接口称为Sub-VLAN</p>
<p><img src="https://s2.loli.net/2023/05/23/eiS6ln5ZVLWsRcX.jpg" alt="1.jpg"></p>
<blockquote>
<p>Super-VLAN：<br>可以看成一个大的VLAN，但它的成员不是端口而是Sub-VLAN，需要配置三层VLANIF接口并配置IP地址。每个VLAN聚合中只能有一个Super-VLAN。</p>
</blockquote>
<blockquote>
<p>Sub-VLAN：<br>它是Super-VLAN的成员，它的成员是交换机的端口，不能创建三层VLANIF接口，不同Sub-VLAN间是相互二层隔离的，但各个Sub-VLAN中的用户网关都是Super-VLAN的VLANIF接口IP地址，来实现各Sub-VLAN成员间以及与外部网络的三层通信。每个VLAN聚合中可以有多个Sub-VLAN。</p>
</blockquote>
<h2 id="MUX-VLAN"><a href="#MUX-VLAN" class="headerlink" title="MUX VLAN"></a>MUX VLAN</h2><p><strong>MUX VLAN（Multiplex VLAN）提供了一种通过VLAN进行网络资源控制的机制</strong></p>
<ol>
<li>主VLAN（Principal VLAN）：Principal port可以和MUX VLAN内的所有接口进行通信。</li>
<li>从VLAN（Subordinate VLAN）包括隔离型从VLAN和互通型从VLAN：</li>
<li>隔离型从VLAN（Separate VLAN）：Separate port只能和Principal port进行通信，和其他类型的接口实现完全隔离。</li>
</ol>
            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/switch/" style="color: #00a596">switch</a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/vlan/" style="color: #00bcd4">vlan</a>
        </span>
        
    </div>
    <a href="/2022/10/10/%E6%89%A9%E5%B1%95VLAN%E7%89%B9%E6%80%A7%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%AE%A1%E7%90%86/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/10/10/%E6%8E%A5%E5%8F%A3%E5%8F%8A%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%93%BE%E8%B7%AF%E9%85%8D%E7%BD%AE%E5%8F%8A%E7%AE%A1%E7%90%86/">
        <h2 class="post-title">接口及以太网链路配置及管理</h2>
    </a>
    <div class="category-and-date">
        
        <span class="category">
            <a href="/categories/%E7%AC%94%E8%AE%B0/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                笔记
            </a>
        </span>
        
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2022/10/10
        </span>
        
        
    </div>
    <div class="description">
        <div class="content" v-pre>
            
            <h1 id="接口及以太网链路配置及管理"><a href="#接口及以太网链路配置及管理" class="headerlink" title="接口及以太网链路配置及管理"></a>接口及以太网链路配置及管理</h1><h2 id="以太网接口属性"><a href="#以太网接口属性" class="headerlink" title="以太网接口属性"></a>以太网接口属性</h2><blockquote>
<p>二层接口是一种物理接口，属于数据链路层，不能配置IP地址，可以对接收到的报文经行二层转发。</p>
<p>三层子接口是一种逻辑接口，属于网络层，可以配置IP地址，主要用来实现收发VLAN报文。可以通过配置使一个二层接口绑定多个三层子接口，从而使得不同VLAN报文从不同子接口转发。</p>
</blockquote>
<h2 id="接口类型"><a href="#接口类型" class="headerlink" title="接口类型"></a>接口类型</h2><blockquote>
<p>接口类型分为<strong>管理接口、物理接口和逻辑接口</strong><br>管理接口用于登陆到设备经行配置与管理，此接口不承担业务传输<br>物理接口是真实存在的可承担业务传输的接口，一般由电口与光口组成<br>逻辑接口是指能实现数据交换但物理上不存在的接口</p>
</blockquote>
<h2 id="端口隔离"><a href="#端口隔离" class="headerlink" title="端口隔离"></a>端口隔离</h2><blockquote>
<p>端口隔离分为单向隔离和端口隔离组，且都仅适用于同意交换机上不同端口间的隔离，且一个端口可以加入多个端口隔离组</p>
<ol>
<li><p>单向隔离指禁止某个端口发送的报文到达其他端口，而不禁止其他端口的报文到达本端口</p>
</li>
<li><p>而端口隔离组内的接口则是互相隔离的</p>
</li>
</ol>
</blockquote>
            
        </div>
    </div>
    <div class="post-tags">
        
        <span class="icon">
            <i class="fa-solid fa-tags fa-fw"></i>
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/switch/" style="color: #03a9f4">switch</a>
        </span>
        
    </div>
    <a href="/2022/10/10/%E6%8E%A5%E5%8F%A3%E5%8F%8A%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%93%BE%E8%B7%AF%E9%85%8D%E7%BD%AE%E5%8F%8A%E7%AE%A1%E7%90%86/" class="go-post">阅读全文</a>
</div>


        <div class="page-current">
    <div class="prev">
        
        <a class="page-num" href="/page/3/">
            <i class="fa-solid fa-caret-left fa-fw"></i>
        </a>
        
    </div>
    <div class="page-index">
        
        <span>
            
            <a class="page-num" href="/">1</a>
            <span class="page-omit">...</span>
            
            
            
            
            <a class="page-num" href="/page/2">2</a>
            
            
            <a class="page-num" href="/page/3/">3</a>
        </span>
        
        <span class="current">4</span>
        
        <span>
            <a class="page-num" href="/page/5/">5</a>
            
            <a class="page-num" href="/page/6">6</a>
            
            
            <span class="page-omit">...</span>
            <a class="page-num" href="/page/7">7</a>
            
        </span>
        
    </div>
    <div class="next">
        
        <a class="page-num" href="/page/5/">
            <i class="fa-solid fa-caret-right fa-fw"></i>
        </a>
        
    </div>
</div>

    </div>
    
    <div id="home-card">
        <div id="card-div">
    <div class="card-style">
        <div class="avatar">
            <img src="/images/73508047.png" alt="avatar" />
        </div>
        <div class="name">Tongrens</div>
        <div class="description">
            <p>没什么好看的，累了毁灭吧sb Hexo</p>

        </div>
        
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://tongrens.vip:81">
                    <i
                        class="fa-solid fa-earth-americas fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/Tongrens">
                    <i
                        class="fa-brands fa-github fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="/images/wechat.png">
                    <i
                        class="fa-brands fa-weixin fa-fw"
                    ></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="mailto:tongrens@qq.com">
                    <i
                        class="fa-solid fa-envelope fa-fw"
                    ></i>
                </a>
            </span>
            
        </div>
        
        
        <div class="friend-links">
            
        </div>
        
    </div>
</div>

    </div>
    
</div>

                    <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2023 - 2023 Tongrens
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Tongrens
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

                </div>
            </transition>
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" />
                </div>
            </transition>
            
        </div>
        <script src="/js/main.js"></script>
        
    </body>
</html>
